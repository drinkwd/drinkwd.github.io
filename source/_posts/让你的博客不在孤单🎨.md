---
title: 让你的博客不在孤单🎨
tags: 代码人生
categories: 阅读
index_img: /img/blog_img/index18.png
banner_img: /img/blog_img/banner18.jpg
---

## 前言

个人博客一定要够酷，够炫，才能显得更牛🍺，当然内容才是核心竞争力，再好的皮囊没有肉也是一堆空壳。🍳
如果你是使用`hexo`+`githubpages`主题，可以展开看看哦[博客地址](https://drinkwd.github.io/)🍜。


### 2d板娘

之前经常在其他的人的博客上看到一个萌萌的小妹子在右下角🥐，抱着好奇，想要在自己的博客中也把他加入进来，接下来就说一下集成的步骤🍤。

- 下载代码

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/33e3c296e4a24e2897568d8fbf6af27a~tplv-k3u1fbpfcp-zoom-1.image)

- 将下载之后的代码解压之后放在博客的`source`文件夹中

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0da04f4cc7ef4f2a88270756db77fba1~tplv-k3u1fbpfcp-zoom-1.image)

- 修改`source/live2d-widget/autoload.js`中的`live2d_path`
```javascript
// 将下面的live2d_path替换成本地连接
// const live2d_path = "https://cdn.jsdelivr.net/gh/drinkwd/live2d-widget@latest/";
const live2d_path = "/live2d-widget/";
```

- 找到`fluid`主题的配置文件`_config.fluid.yml`在文件中搜索`custom_js`和`custom_css`如果没有就增加这两个变量👇

```yml
custom_js: '/live2d-widget/autoload.js'
custom_css: 'https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css'
```
- 重启博客 hexo s

左侧的小公主就出现啦，还自带了右侧的工具栏自己去看看什么功能哦🍮。

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/64123d3b9d7b4c6589e728bd270062e9~tplv-k3u1fbpfcp-zoom-1.image)


### 文章加密

当你有一些文章不想其他人看到的时候可以使用该插件。

- [安装hexo-blog-encrypt](https://github.com/D0n9X1n/hexo-blog-encrypt/blob/master/ReadMe.zh.md)
```
npm install --save hexo-blog-encrypt
```
- 在文章的开头部分增加如下内容👇
```yml
---
title: Hello World
date: 2016-03-30 21:12:21
password: hello # 密码
abstract: 这篇文章被人偷走了，您可能需要输入密码才能找回. # 摘要
message: 您好, 这里需要密码，按Enter键确认。 # 提示内容
wrong_pass_message: 抱歉, 这个密码看着不太对, 请再试试. # 输入错误提示
---
```
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7d0e7482d883454ebd32d46befad0230~tplv-k3u1fbpfcp-zoom-1.image)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3f65004d458949a08952cdd6bcbaa484~tplv-k3u1fbpfcp-zoom-1.image)

- 更详细的配置看[这里](https://github.com/D0n9X1n/hexo-blog-encrypt/blob/master/ReadMe.zh.md)👈

### Aplayer

看文章怎么能少了音乐的，跟随我的脚步给你的博客增加一个播放器吧🎨，`hexo`提供了注入器的功能在编写注入代码🛒。

- 在博客的根目录下创建`scripts`文件夹，然后在里面任意命名创建一个 `js` 文件即可，编写注入代码😙
```javascript
hexo.extend.injector.register('body_end', `
  <div id="aplayer"></div>
  <link defer rel="stylesheet" href="https://cdn.staticfile.org/aplayer/1.10.1/APlayer.min.css" />
  <script src="https://cdn.staticfile.org/aplayer/1.10.1/APlayer.min.js"></script>
  <script defer src="/js/music.js"></script>
`);
```
在`source/js/music.js`中增加如下内容（需要新建`js`文件）
```javascript
!(function() {
    var oldLoadAp = window.onload;
    window.onload = function () {
      oldLoadAp && oldLoadAp();
  
      new APlayer({
        container: document.getElementById('aplayer'),
        fixed: true,
        autoplay: false,
        loop: 'all',
        order: 'random',
        theme: '#b7daff',
        preload: 'none',
        audio: [
          {
            name: 'song1', // 音频名称
            artist: 'artist1', // 音频艺术家
            url: '/songs/song1.mp3', // 音频链接
            cover: '/img/cover.jpg' // 音频封面
          }
        ]
      });
    }
  })();
```
你会发现播放器与咱们的板娘位置重叠了，我们修改一下播放器的位置🎑
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2971f420b40f4dc698acc8d533829002~tplv-k3u1fbpfcp-zoom-1.image)

- 找到`waifu.css`进行如下修改将以下样式替换成下面的代码🍱。
``` css
#waifu-toggle {
	background-color: #fa0;
	border-radius: 5px;
	bottom: 66px;
	color: #fff;
	cursor: pointer;
	font-size: 12px;
	right: 0;
	margin-right: -100px;
	padding: 5px 2px 5px 5px;
	position: fixed;
	transition:margin-right 1s;
	width: 60px;
	writing-mode: vertical-lr;
}

#waifu-toggle.waifu-toggle-active {
	margin-right: -50px;
}

#waifu-toggle.waifu-toggle-active:hover {
	margin-right: -30px;
}

#waifu {
	bottom: -1000px;
	right: 60px;
	line-height: 0;
	margin-bottom: -10px;
	position: fixed;
	transform: translateY(3px);
	transition: transform .3s ease-in-out, bottom 3s ease-in-out;
	z-index: 1;
}
```
- [获取网易音乐外链](https://zhuanlan.zhihu.com/p/266060655)
> 有一个很难以接受的问题就是`fluid`目前是不支持`pjax`也就是说我们每次在切换文章的时候音乐会停止播放🥟。但是为了满足我的私欲，我还是加上🥠了。

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/048a9a1189e14e93b6495cbf9c212ebf~tplv-k3u1fbpfcp-zoom-1.image)

### 加载网页速度

这个简直太让人头痛了，如果网页加载的过慢就会导致🥞，别人刚进入到你的博客，就会退出，根本没人可以忍受慢的网址，我也一样😌。

- 在博客目录下载[Hexo-all-minifier](https://github.com/chenzhutian/hexo-all-minifier)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cea1b89a991c444d82293e955f4b2240~tplv-k3u1fbpfcp-zoom-1.image)

- 找到`hexo`的配置文件`_config.yml`增加如下内容👇

这样每次在本地运行和上传的时候都会进行`html`,`css`,`js`压缩🤐

```yml
all_minifier: true
```
- 问题报错
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1b23fa57e01c4054b0b96309bf62d222~tplv-k3u1fbpfcp-zoom-1.image)

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4d0ac189d216419c99ce0ccc10505306~tplv-k3u1fbpfcp-zoom-1.image)
> 不同平台安装这个包，可能会有点问题，我在家里的机器上装的时候就顺风顺水🛴，在公司的电脑上安装的时候就遇到了上面面的问题，[解决方案](https://archive.vincent0700.com/2019/12/31/034_Usage_of_hexo-all-minifier_copy/) 执行如下命令👇
```
npm install jpegtran-bin
npm rebuild jpegtran-bin
```
- 重启项目

运行的时候就会看到一些图片已经被压缩了。
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b945916b49004e5399501658ce88550c~tplv-k3u1fbpfcp-zoom-1.image)

### 网站seo优化(慎读，因为我自己也不太懂)

`hexo`和`fluid`的主题已经帮我们做了一些工作了🙆‍♂️，但是如果我们想要让更多的人看到我们的博客，还是需要添加站点地图🥧，搜索引擎是通过（`sitemap`）去抓取可供爬取的网页的🚖，虽然还是百度用的人比较多但是我发现在百度我从来就没有搜索到`githubpage`的相关内容，索性就不挣扎啦🍳。

1. 下载sitemap生成工具
```
npm install hexo-generator-sitemap —save
```
2. 配置_config.yml
```yml
# sitemap
sitemap:
  path: sitemap.xml
```
重新执行hexo g的时候就会在public下生成sitemap.xml

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/efacbe20c9e043969e589cc0579d01b3~tplv-k3u1fbpfcp-zoom-1.image)

博客的sitemap是为了告诉了搜索引擎可以爬取的内容，但是搜索引擎怎么知道你就是这个网站的主人呢？

- [谷歌验证工具](https://search.google.com/search-console/sitemaps)
在下方的表格中输入你的网站例如我的`https://drinkwd.github.io/`
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/12e23fae500645728abd7a5f90d47635~tplv-k3u1fbpfcp-zoom-1.image)
点击继续之后会让你选择验证方式，由于我已经验证通过了忘记截图了只能说一下流程。

- 使用html的验证方式，下载html文件
- 将下载的html文件放在博客的public文件夹中（如果没有public文件夹需要使用hexo g生成一下）

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7d4e0524c2d24a10964639a9d648dc09~tplv-k3u1fbpfcp-zoom-1.image)

- 运行hexo d（目的就是告诉谷歌我已经把你给我的地址上传到我的博客了，我就是这个网站的主人）
- 点击验证进行验证，不出意外一会出现一下以下界面

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ede526c5e0474951bcc174506e03e925~tplv-k3u1fbpfcp-zoom-1.image)

此时还需要上传站点地图`sitemap`到搜索引擎，下次让搜索引擎的爬虫来的光顾的时候就可以通过这个站点地图来爬取了相应的链接

- 再次访问[谷歌验证工具](https://search.google.com/search-console/sitemaps)就会是如下界面，将生成的`sitemap.xml`的文件路径放在这里就可以，因为我是在public下生成`sitemap.xml`，所以我就填写`sitemap.xml`就可以注意不需要填写`public`
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/889a94347b184d0a97982df75bd96da0~tplv-k3u1fbpfcp-zoom-1.image)
提交成功之后过一段时间（一段时间可能会很长很长，我现在还在等）就可以发现博客被谷歌收录了。

### 部署Gitee

无论怎么优化如果不`fq`还是很难访问到博客的😍，之前是在github中部署的速度感人，于是我打算在`gitee`上也部署一套博客😗，之前看大家都部署在`coding`中但是最近发现`coding`好像收费了，白嫖党的生活过的有滋有味🤗。

- 在`gitee`中创建仓库，路径和用户名保一致

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eb084bd9a6164dc59f5c75d5a3bf9de5~tplv-k3u1fbpfcp-zoom-1.image)

- 创建成功获取仓库链接

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b2aeede2b6e74bd4a12bd44c4cc8d102~tplv-k3u1fbpfcp-zoom-1.image)

- 修改`hexo`配置文件（注意缩进，如果缩进不正确会提交失败）
```
deploy:
- type: git
  repo: xxxx # github地址
  branch: main
- type: git
  repo: xxxx # gitee地址
  branch: master
```
- 开启gitee page服务（如果没有实名认证需要进行实名认证）

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7d1dce76e1994442ae238c90227a081c~tplv-k3u1fbpfcp-zoom-1.image)

- 如果没有实名认证的话需要进行一下实名认证
![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d6c3445bfb08450b905221c78cfe6ab5~tplv-k3u1fbpfcp-zoom-1.image)

- 认证结束之后就可以看到gitee对应的博客地址了

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dc0cb3dd414a42ee86fe75940c833b4a~tplv-k3u1fbpfcp-zoom-1.image)
### 网站CDN加速

当我把博客部署到`gitee`之后发现国内的访问还是比较慢😣，我很难过的打开了控制台我发现了端倪有很多资源在国内访问都是超时的😮，于是我开始修改`cdn`资源😛。主要参考了[这篇文章](http://www.julydate.com/post/60859300/)提供的思路。下面是我修改的资源👇
``` yml
static_prefix:
  # 内部静态
  # Internal static
  internal_js: /js
  internal_css: /css
  internal_img: /img

  # 图标库，包含了大量社交类图标，主题依赖的不包含在内，因此可自行修改，详见 https://hexo.fluid-dev.com/docs/icon/
  # Icon library, which includes many social icons, does not include those theme dependent, so your can modify link by yourself. See: https://hexo.fluid-dev.com/docs/en/icon/
  iconfont: //at.alicdn.com/t/font_1736178_kmeydafke9r.css
  # https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/ 原有cdn
  anchor: https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/anchor-js/4.3.0/

  # https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/ 原有cdn

  github_markdown: https://cdn.staticfile.org/github-markdown-css/4.0.0/

  # https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/ 原有cdn 外网快，内网加载不通
  jquery: http://cdn.staticfile.org/jquery/3.5.1/

  # https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/ 原有cdn 外网快，内网加载不通

  bootstrap: https://cdn.staticfile.org/bootstrap/4.5.3/

  # https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/

  highlightjs: https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/highlight.js/10.4.0/

  # https://cdn.jsdelivr.net/npm/prismjs@1.22.0/ 

  prismjs: https://cdn.staticfile.org/prism/1.22.0/

  # https://cdn.staticfile.org/tocbot/4.12.0/tocbot.min.css
  tocbot: https://cdn.staticfile.org/tocbot/4.12.0/

  # https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/
  typed: https://cdn.staticfile.org/typed.js/2.0.12/

  # https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/ 
  fancybox: https://cdn.staticfile.org/fancybox/3.5.7/

  # https://cdn.jsdelivr.net/npm/nprogress@0.2.0/
  nprogress: https://cdn.staticfile.org/nprogress/0.2.0/

  #  https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/ 
  mathjax: https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/mathjax/3.1.2/es5/

  # https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/ 
  katex: https://cdn.staticfile.org/KaTeX/0.12.0/

  busuanzi: https://busuanzi.ibruce.info/busuanzi/2.3/

  # https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/ 
  clipboard: https://cdn.staticfile.org/clipboard.js/2.0.6/

  # https://cdn.jsdelivr.net/npm/mermaid@8.8.3/dist/ 
  mermaid: https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/mermaid/8.8.3/

  # https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/
  valine: https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/valine/1.4.14/

  waline: https://cdn.jsdelivr.net/npm/@waline/client@0.4.2/dist/

  gitalk: https://cdn.jsdelivr.net/npm/gitalk@1.7.0/dist/

  disqusjs: https://cdn.jsdelivr.net/npm/disqusjs@1.0/dist/

  twikoo: https://cdn.jsdelivr.net/npm/twikoo@0.1.15/dist/
```
## 总结

提高`githubpage`个人博客的美观程度比较容易，但是提升流量确实是很难很难🥐，就拿我现在的[博客](https://drinkwd.github.io/)来说可以说是无人问津了🍜，如果不`fq`还有可能会访问失败，因为自己对`seo`的优化也不是很了解🤦‍♂️，如果有大佬可以提高这种个人博客的访问速度👼，以及流量欢迎来找我指点江山呀！🙆‍♂️

## 参考链接

[hexo-all-minifier](https://archive.vincent0700.com/2019/12/31/034_Usage_of_hexo-all-minifier_copy/)

[板娘](https://hexo.fluid-dev.com/posts/hexo-injector/)

[hexo seo 优化](https://juejin.cn/post/6844904131266609165)









